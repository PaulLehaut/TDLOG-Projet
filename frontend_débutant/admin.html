<!DOCTYPE html>
<html lang = "fr">

    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "with=device-width, initial-scale=1.0">
        <title>Page d'administration du Quiz</title> 
        <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel = "stylesheet">
        <script src = "admin.js" defer></script>
    </head>

    <body>
        <div class = "container mt-4">
            <h1 class = "mb-4">Page d'administration</h1>

            <div id = "admin-alerte" class = "alert" role = "alert" style = "display: none;"></div>
            <section class = "card mb-4">
                <div class = "card-header">
                    <h2>Créer un nouveau Quiz</h2>
                </div>

                <form id = "form-creer-quiz" class = "card-body">
                    <div class = "mb-3">
                        <label for = "quiz-nom" class = "form-label">Nom du Quiz:</label>
                        <input type = "text" id = "quiz-nom" class = "form-control" required>
                    </div>

                    <div class = "mb-3">
                        <label for = "quiz-description" class = "form-label">Description:</label>
                        <textarea id = "quiz-description" class = "form-control" rows = "2"></textarea>
                    </div>
                    <button type = "submit" class = "btn btn-primary">Créer le Quiz</button>
                </form>
            </section>

            <section class="card">
            <div class="card-header">
                <h2>Ajouter une Question</h2>
            </div>
            <form id="form-ajouter-question" class="card-body">
                
                <div class="mb-3">
                    <label for="select-quiz-id" class="form-label">1. Choisir le Quiz :</label>
                    <select id="select-quiz-id" class="form-select" required>
                        <option value="">Chargement des quiz...</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="question-enonce" class="form-label">2. Énoncé de la question :</label>
                    <input type="text" id="question-enonce" class="form-control" required>
                </div>

                <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label for="question-sujet" class="form-label">3. Sujet :</label>
                        <input type="text" id="question-sujet" class="form-control" placeholder="Ex: Sport, Cinéma..." required>
                    </div>
                    <div class="col-md-6">
                        <label for="question-points" class="form-label">4. Points :</label>
                        <input type="number" id="question-points" class="form-control" value="5" required>
                    </div>
                </div>

                <div class="mb-3">
                    <label for="select-type-question" class="form-label">5. Type de question :</label>
                    <select id="select-type-question" class="form-select">
                        <option value="simple">Simple</option>
                        <option value="qcm">QCM</option>
                    </select>
                </div>

                <div id="propositions-container" class="mb-3" style="display: none;">
                    <label class="form-label">6. Propositions (pour QCM) :</label>
                    <input type="text" id="prop-1" class="form-control mb-2" placeholder="Proposition 1">
                    <input type="text" id="prop-2" class="form-control mb-2" placeholder="Proposition 2">
                    <input type="text" id="prop-3" class="form-control mb-2" placeholder="Proposition 3">
                    <input type="text" id="prop-4" class="form-control mb-2" placeholder="Proposition 4 (optionnel)">
                </div>

                <div class="mb-3">
                    <label for="question-reponse" class="form-label">7. Réponse Correcte :</label>
                    <input type="text" id="question-reponse" class="form-control" placeholder="Pour un QCM, entrez le numéro (1, 2, 3 ou 4)" required>
                </div>

                <button type="submit" class="btn btn-success">Ajouter la Question</button>
                </form>
            </section>
            <section class="card mb-4">
            <div class="card-header">
                <h2>Générer un Quiz par IA</h2>
            </div>
            <form id="form-generer-ia" class="card-body">
                
                <div class="alert alert-info">
                    <strong>Note :</strong> La génération peut prendre jusqu'à 30 secondes. 
                    Le serveur sera indisponible pendant ce temps.
                </div>

                <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label for="ia-quiz-nom" class="form-label">Sujet du Quiz :</label>
                        <input type="text" id="ia-quiz-nom" class="form-control" placeholder="Ex: Histoire de France" required>
                    </div>
                    <div class="col-md-6">
                        <label for="ia-quiz-desc" class="form-label">Description :</label>
                        <input type="text" id="ia-quiz-desc" class="form-control" placeholder="Ex: De Vercingétorix à nos jours...">
                    </div>
                </div>
                
                <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label for="ia-nb-simples" class="form-label">Nombre de questions "simples" :</label>
                        <input type="number" id="ia-nb-simples" class="form-control" value="2" required>
                    </div>
                    <div class="col-md-6">
                        <label for="ia-nb-qcm" class="form-label">Nombre de questions "QCM" :</label>
                        <input type="number" id="ia-nb-qcm" class="form-control" value="3" required>
                    </div>
                </div>

                <button type="submit" id="btn-generer-ia" class="btn btn-warning">Lancer la Génération IA</button>
            </form>
        </section>
        </div>
    </body>
</html>